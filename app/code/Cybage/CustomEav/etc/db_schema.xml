<?xml version="1.0" encoding="UTF-8"?>
<!--
 * BFL Cybage_CustomEav
 *
 * @category   Cybage_CustomEav schema
 * @package    BFL Cybage_CustomEav
 * @copyright  2019 All rights reserved.
 * @license    Proprietary
 * @author     BFL (bajaj finserv limited)
 */
 -->

<schema xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xsi:noNamespaceSchemaLocation="urn:magento:framework:Setup/Declaration/Schema/etc/schema.xsd">
    <table name="eav_attribute_set" resource="default" engine="innodb" comment="Eav Attribute Set">
        <column xsi:type="smallint" name="attribute_set_id" padding="5" unsigned="true" nullable="false" identity="true"
                comment="Attribute Set Id"/>
        <column xsi:type="smallint" name="entity_type_id" padding="5" unsigned="true" nullable="false" identity="false"
                default="0" comment="Entity Type Id"/>
        <column xsi:type="varchar" name="attribute_set_name" nullable="true" length="255" comment="Attribute Set Name"/>
        <column xsi:type="smallint" name="sort_order" padding="6" unsigned="false" nullable="false" identity="false"
                default="0" comment="Sort Order"/>
        <column xsi:type="varchar" name="attribute_set_lob" nullable="true" length="255" comment="Attribute Set Lob"/>
        <column xsi:type="varchar" name="attribute_set_keyhighlights" nullable="true" length="255" comment="Attribute Set Keyhighlights"/>
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="attribute_set_id"/>
        </constraint>
        <constraint xsi:type="foreign" referenceId="EAV_ATTRIBUTE_SET_ENTITY_TYPE_ID_EAV_ENTITY_TYPE_ENTITY_TYPE_ID"
                    table="eav_attribute_set" column="entity_type_id" referenceTable="eav_entity_type"
                    referenceColumn="entity_type_id" onDelete="CASCADE"/>
        <constraint xsi:type="unique" referenceId="EAV_ATTRIBUTE_SET_ENTITY_TYPE_ID_ATTRIBUTE_SET_NAME">
            <column name="entity_type_id"/>
            <column name="attribute_set_name"/>
        </constraint>
        <index referenceId="EAV_ATTRIBUTE_SET_ENTITY_TYPE_ID_SORT_ORDER" indexType="btree">
            <column name="entity_type_id"/>
            <column name="sort_order"/>
        </index>
    </table>
    <table name="catalog_eav_attribute" resource="default" engine="innodb" comment="Catalog EAV Attribute Table">
        <column xsi:type="varchar" name="highlight_icon" length="255" nullable="true" comment="Highlighted attribute icon"/>
    </table>
</schema>
